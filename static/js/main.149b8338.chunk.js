(this["webpackJsonpup-sample-react-app"]=this["webpackJsonpup-sample-react-app"]||[]).push([[0],{1024:function(e,t){},1025:function(e,t){},1189:function(e,t){},1309:function(e,t,n){"use strict";n.r(t);var c=n(9),r=n.n(c),a=n(249),s=n.n(a),o=(n(588),n(102)),i=(n(589),n(254)),u=n(35),l=n(0),d=n.n(l),f=n(17),b=n(31),p=n(565),h=n.n(p),j=n(178),O=n.n(j),x="https://rpc.l14.lukso.network";var v,k=function(){var e=Object(f.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=parseFloat,e.t1=t.utils,e.next=4,t.eth.getBalance(n);case 4:return e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="mypassword",t.eth.accounts.wallet.load(n),t.eth.accounts.wallet.length){e.next=10;break}console.log("No account detected, generating and saving a new account..."),t.eth.accounts.wallet.create(1),t.eth.accounts.wallet.save(n),console.log("My new key address:",t.eth.accounts.wallet[0].address),console.log("Private key:",t.eth.accounts.wallet[0].privateKey),e.next=20;break;case 10:return c=t.eth.accounts.wallet[0].address,console.log("Loaded existing key address ",c),console.log("Private key:",t.eth.accounts.wallet[0].privateKey),e.t0=console,e.t1=t.utils,e.next=17,t.eth.getBalance(c);case 17:e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2,"ether"),e.t0.log.call(e.t0,"Balance ",e.t3,"LYXt");case 20:return e.abrupt("return",t.eth.accounts.wallet[0].address);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(582),w=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,c,r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{name:"SupportedStandards:LSP3UniversalProfile",key:"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abe425d6",keyType:"Mapping",valueContent:"0xabe425d6",valueType:"bytes"},{name:"LSP3Profile",key:"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5",keyType:"Singleton",valueContent:"JSONURL",valueType:"bytes"},{name:"LSP1UniversalReceiverDelegate",key:"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",keyType:"Singleton",valueContent:"Address",valueType:"address"}],c=new O.a.providers.HttpProvider(x),r={ipfsGateway:"https://ipfs.lukso.network/ipfs/"},a=new g.a(n,t,c,r),e.next=6,a.fetchData();case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=n(152),C=function(){var e=Object(f.a)(d.a.mark((function e(t,n){var c,r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.eth.accounts.wallet[0].privateKey,x,22,a=new m.l("https://rpc.l14.lukso.network",{deployKey:r,chainId:22}),console.log("\ud83d\ude80 Deploying LSP3UniversalProfile contract..."),e.next=7,a.LSP3UniversalProfile.deploy({controllingAccounts:[n],lsp3Profile:{name:"My Universal Profile",description:"My Cool Universal Profile",backgroundImage:[],tags:["Public Profile"],links:[{title:"My Website",url:"http://my-website.com"}]}});case 7:return s=e.sent,console.log("\u2705 Deployment and configuration successful"),console.log("Contracts:",s),e.abrupt("return",null===(c=s.ERC725Account)||void 0===c?void 0:c.address);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(d.a.mark((function e(t,n,c){var r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.eth.accounts.wallet[0].privateKey,x,22,a=new m.l("https://rpc.l14.lukso.network",{deployKey:r,chainId:22}),console.log("\ud83d\ude80 [reactive] Deploying LSP3UniversalProfile contract..."),a.LSP3UniversalProfile.deployReactive({controllingAccounts:[n],lsp3Profile:{name:"My Universal Profile",description:"My Cool Universal Profile",backgroundImage:[],tags:["Public Profile"],links:[{title:"My Website",url:"http://my-website.com"}]}}).subscribe({next:function(e){console.log(e);var t="";if(t=e.type===m.c.TRANSACTION?"".concat(e.contractName,": ").concat(e.functionName," ").concat(e.status):"".concat(e.contractName,": ").concat(e.status),e.status===m.b.COMPLETE)o.b.success(t);else o.b.info(t);e.type===m.c.PROXY&&e.status===m.b.PENDING&&"ERC725Account"===e.contractName&&e.receipt&&(s=e.receipt.contractAddress)},complete:function(){o.b.success("Deployment successful"),c(s)}});case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),P=n(571),E=n(572),A=function(){var e=Object(f.a)(d.a.mark((function e(t,n){var c,r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.eth.Contract(P.abi,n),e.next=3,c.methods.owner().call();case 3:return r=e.sent,console.log("UP owner address (KeyManager SC):",r),a=new t.eth.Contract(E.abi,r),s=c.methods.setData(["0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"],["0x6f357c6ad6c04598b25d41b96fb88a8c8ec4f4c3de2dc9bdaab7e71f40ed012b84d0c126697066733a2f2f516d6262447348577a4d4d724538594345766e3342633254706756793176535736414d3946376168595642573874"]).encodeABI(),e.next=9,a.methods.execute(s).send({from:t.eth.accounts.wallet[0].address,gas:2e5,gasPrice:t.utils.toWei("20","gwei")});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=n(19);!function(e){e[e.CREATE_ACCOUNT=0]="CREATE_ACCOUNT",e[e.FUND_ACCOUNT=1]="FUND_ACCOUNT",e[e.DEPLOY_UP=2]="DEPLOY_UP",e[e.FETCH_DATA=3]="FETCH_DATA",e[e.INTERACT_WITH_CONTRACT=4]="INTERACT_WITH_CONTRACT",e[e.DONE=5]="DONE"}(v||(v={}));var S=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(b.a)(a,2),u=s[0],l=s[1],p=Object(c.useState)(0),j=Object(b.a)(p,2),g=j[0],m=j[1],P=Object(c.useState)(""),E=Object(b.a)(P,2),S=E[0],_=E[1],D=Object(c.useState)(!1),U=Object(b.a)(D,2),L=U[0],F=U[1],R=Object(c.useState)({}),I=Object(b.a)(R,2),M=I[0],H=I[1],W=Object(c.useState)(v.CREATE_ACCOUNT),Y=Object(b.a)(W,2),B=Y[0],K=Y[1],G=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.a(x),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){r(e)}))}),[]),n}();return Object(c.useEffect)((function(){n&&G&&k(G,n).then((function(e){m(e),e>0&&K(v.DEPLOY_UP)}))}),[n,G]),Object(c.useEffect)((function(){B===v.DONE&&l(!0)}),[B]),Object(c.useEffect)((function(){S&&K(v.FETCH_DATA)}),[S]),G?Object(N.jsxs)("div",{children:[Object(N.jsx)(h.a,{run:u,numberOfPieces:50}),Object(N.jsx)("h1",{children:"\ud83c\udd99 Sample React App"}),Object(N.jsxs)("p",{children:["This is a sample repo for the"," ",Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.lukso.tech/tools/getting-started",children:"Getting Started"})," ","tutorial.",Object(N.jsx)("br",{}),"Let's deploy a Universal Profile, configure it and interact with it.",Object(N.jsx)("br",{}),"It is recommanded to open the developer console to check the logs."]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/Hugoo/up-sample-react-app",children:"GitHub"}),"-",Object(N.jsx)(i.b,{to:"/tx",children:"Transactions"})]}),Object(N.jsxs)("h2",{children:["1. ",n&&"\u2705"," \ud83d\udd11 Create/Get account"]}),n?Object(N.jsxs)("p",{children:["Account (EOA) loaded:"," ",Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://blockscout.com/lukso/l14/address/".concat(n),children:n})]}):Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(G);case 2:t=e.sent,r(t),K(v.FUND_ACCOUNT);case 5:case"end":return e.stop()}}),e)}))),children:"Get/create account"})}),B>=v.FUND_ACCOUNT&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h2",{children:["2. ",g>0&&"\u2705"," \ud83d\udcb0 Fund account"]}),Object(N.jsxs)("p",{children:["Account balance is: ",Object(N.jsxs)("strong",{children:[g," LYXt"]})," ",Object(N.jsx)("button",{onClick:Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k(G,n);case 4:t=e.sent,m(t),t>0&&K(v.DEPLOY_UP);case 7:case"end":return e.stop()}}),e)}))),children:"Refresh balance"}),Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:"http://faucet.l14.lukso.network/",target:"_blank",rel:"noreferrer",children:"Use Faucet to fund account"})]})]}),B>=v.DEPLOY_UP&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h2",{children:["3. ",S&&"\u2705"," \ud83d\ude80 Deploy LSP3 UP Smart contract with lsp-factory.js"]}),Object(N.jsxs)("p",{children:["With"," ",Object(N.jsx)("a",{href:"https://docs.lukso.tech/tools/lsp-factoryjs/getting-started",target:"_blank",rel:"noreferrer",children:"lsp-factory.js"}),", we can simply deploy and configure a Universal Profile smart contract:"]}),Object(N.jsx)("button",{onClick:Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),_(""),e.prev=2,e.next=5,C(G,n);case 5:(t=e.sent)&&_(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),o.b.error("There was an error, please check console logs.");case 13:F(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),children:"Deploy LSP3 UP contract"})," ",Object(N.jsx)("button",{onClick:Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!0),_("");try{T(G,n,(function(e){_(e),F(!1)}))}catch(t){console.error(t),o.b.error("There was an error, please check console logs."),F(!1)}case 3:case"end":return e.stop()}}),e)}))),children:"Deploy LSP3 UP contract [reactive mode]"}),L&&Object(N.jsxs)("p",{children:["\ud83d\udd04 Deploying contracts, it can take up to 2 minutes...",Object(N.jsx)("br",{}),"\ud83d\udca1 You can monitor the contracts deployments/setup on"," ",Object(N.jsx)("a",{href:"https://blockscout.com/lukso/l14/address/".concat(n,"/transactions"),target:"_blank",rel:"noreferrer",children:"Blocksout"}),"."]}),S&&Object(N.jsxs)("p",{children:["ERC725ContractAddress deployed:"," ",Object(N.jsx)("a",{href:"https://universalprofile.cloud/".concat(S),target:"_blank",rel:"noreferrer",children:S})," ","[",Object(N.jsx)("a",{href:"https://blockscout.com/lukso/l14/address/".concat(S,"/transactions"),target:"_blank",rel:"noreferrer",children:"blockscout"}),"] [",Object(N.jsx)("a",{href:"https://erc725-inspect.lukso.tech/?address=".concat(S),target:"_blank",rel:"noreferrer",children:"inspect"}),"]"]})]}),B>=v.FETCH_DATA&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h2",{children:["4. ",Object.keys(M).length>0&&"\u2705"," \ud83d\udd04 Fetch contract data with erc725.js"]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/getting-started",target:"_blank",rel:"noreferrer",children:"erc725.js"})," ","makes it easy to fetch and decode an ERC725Y smart contract keys/values."]}),Object(N.jsx)("button",{onClick:Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(S);case 2:t=e.sent,H(t),t!=={}&&B!==v.DONE&&K(v.INTERACT_WITH_CONTRACT);case 5:case"end":return e.stop()}}),e)}))),children:"Fetch ERC725 keys/values"}),Object.keys(M).length>0&&Object(N.jsx)("pre",{children:JSON.stringify(M,null,2)})]}),B>=v.INTERACT_WITH_CONTRACT&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h2",{children:["5. ",B===v.DONE&&"\u2705"," \ud83e\uddd9 Interact with contract"]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("a",{href:"https://www.npmjs.com/package/@lukso/universalprofile-smart-contracts",target:"_blank",rel:"noreferrer",children:"universalprofile-smart-contracts"})," ","lets you use the LUKSO's smart contract ABIs."]}),Object(N.jsx)("button",{onClick:Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(G,S);case 2:K(v.DONE);case 3:case"end":return e.stop()}}),e)}))),children:"Execute a transaction"}),B===v.DONE&&Object(N.jsx)("p",{children:"The contract data have been updated, you can refresh the data again at the previous step to see updated data."})]}),B>=v.DONE&&Object(N.jsx)("h2",{children:"Congratulations \ud83c\udf89\ud83e\udd73"})]}):Object(N.jsx)("div",{children:"'Loading web3'"})},_=n(581),D=n(580),U=n.n(D),L=function(){var e=Object(f.a)(d.a.mark((function e(t,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return alert("not connected"),e.abrupt("return");case 3:return c=new t.eth.Contract([{inputs:[{internalType:"bytes32[]",name:"_keys",type:"bytes32[]"},{internalType:"bytes[]",name:"_values",type:"bytes[]"}],name:"setData",outputs:[],stateMutability:"nonpayable",type:"function"}]),r=c.methods.setData(["0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"],["0x6f357c6a70546a2accab18748420b63c63b5af4cf710848ae83afc0c51dd8ad17fb5e8b3697066733a2f2f516d65637247656a555156587057347a53393438704e76636e51724a314b69416f4d36626466725663575a736e35"]).encodeABI(),e.abrupt("return",t.eth.sendTransaction({from:n,to:"0x23a86EF830708204646abFE631cA1a60d04c4FbE",data:r}).once("sending",(function(e){console.log(JSON.stringify(e,null,2))})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),s=Object(b.a)(a,2),o=s[0],i=s[1],u=Object(c.useState)(),l=Object(b.a)(u,2),p=l[0],h=l[1],j={walletconnect:{display:{name:"Mobile"},package:_.a,options:{rpc:{56:"https://bsc-dataseed.binance.org/"},network:"binance",chainId:56}}},x=new U.a({network:"mainnet",cacheProvider:!1,providerOptions:j}),v=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.connect();case 2:return t=e.sent,n=new O.a(t),r(n),e.next=7,n.eth.getAccounts();case 7:c=e.sent,i(c[0]),t.on("connect",(function(e){console.log(e)})),t.on("accountsChanged",(function(e){console.log(e),i(e[0])}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return alert("not connected"),e.abrupt("return");case 3:return t=n.utils.toWei("1","ether"),e.next=6,n.eth.sendTransaction({from:o,to:"0x23a86EF830708204646abFE631cA1a60d04c4FbE",value:t}).once("sending",(function(e){console.log(e),h(JSON.stringify(e,null,2))}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&o){e.next=3;break}return alert("not connected"),e.abrupt("return");case 3:return e.next=5,L(n,o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"\ud83c\udd99 Sample React App - Transaction"}),Object(N.jsx)("p",{children:"Lets send tx !"}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:o?function(){i(void 0),h(""),x.clearCachedProvider()}:v,children:o?"Connected: ".concat(o):"Connect"})}),Object(N.jsx)("button",{onClick:k,children:"Send LYX"}),Object(N.jsx)("button",{onClick:y,children:"Set data"}),Object(N.jsx)("pre",{children:p})]})},R=function(){return Object(N.jsx)(i.a,{children:Object(N.jsxs)(u.c,{children:[Object(N.jsx)(u.a,{path:"/tx",element:Object(N.jsx)(F,{})}),Object(N.jsx)(u.a,{path:"/",element:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{}),Object(N.jsx)(o.a,{pauseOnFocusLoss:!0,newestOnTop:!0,autoClose:1e4})]})})]})})};s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(R,{})}),document.getElementById("root"))},588:function(e,t,n){},603:function(e,t){},605:function(e,t){},607:function(e,t){},611:function(e,t){},636:function(e,t){},638:function(e,t){},653:function(e,t){},655:function(e,t){},671:function(e,t){},694:function(e,t){},696:function(e,t){},713:function(e,t){},724:function(e,t){},732:function(e,t){},740:function(e,t){},749:function(e,t){},757:function(e,t){},811:function(e,t){},847:function(e,t){},848:function(e,t){},871:function(e,t){},878:function(e,t){},885:function(e,t){},957:function(e,t){},964:function(e,t){},992:function(e,t){},999:function(e,t){}},[[1309,1,2]]]);
//# sourceMappingURL=main.149b8338.chunk.js.map