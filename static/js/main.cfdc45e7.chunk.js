(this["webpackJsonpup-sample-react-app"]=this["webpackJsonpup-sample-react-app"]||[]).push([[0],{356:function(e,t,n){},372:function(e,t){},374:function(e,t){},376:function(e,t){},380:function(e,t){},406:function(e,t){},408:function(e,t){},421:function(e,t){},423:function(e,t){},455:function(e,t){},457:function(e,t){},554:function(e,t){},555:function(e,t){},664:function(e,t){},672:function(e,t){},697:function(e,t){},698:function(e,t){},862:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n.n(c),a=n(154),s=n.n(a),o=(n(356),n(112)),i=(n(357),n(0)),l=n.n(i),u=n(49),f=n(35),p=n(345),b=n.n(p),d=n(155),j=n.n(d),h="https://rpc.l14.lukso.network";var O,x=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=parseFloat,e.t1=t.utils,e.next=4,t.eth.getBalance(n);case 4:return e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="mypassword",t.eth.accounts.wallet.load(n),t.eth.accounts.wallet.length){e.next=9;break}console.log("No account detected, generating and saving a new account..."),t.eth.accounts.wallet.create(1),t.eth.accounts.wallet.save(n),console.log("My new key address ",t.eth.accounts.wallet[0].address),e.next=18;break;case 9:return c=t.eth.accounts.wallet[0].address,console.log("Loaded existing key address ",c),e.t0=console,e.t1=t.utils,e.next=15,t.eth.getBalance(c);case 15:e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2,"ether"),e.t0.log.call(e.t0,"Balance ",e.t3,"LYXt");case 18:return e.abrupt("return",t.eth.accounts.wallet[0].address);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(131),y=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c,r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{name:"SupportedStandards:ERC725Account",key:"0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6",keyType:"Mapping",valueContent:"0xafdeb5d6",valueType:"bytes"},{name:"LSP3Profile",key:"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5",keyType:"Singleton",valueContent:"JSONURL",valueType:"bytes"},{name:"LSP1UniversalReceiverDelegate",key:"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",keyType:"Singleton",valueContent:"Address",valueType:"address"}],c=new j.a.providers.HttpProvider(h),r={ipfsGateway:"https://ipfs.lukso.network/ipfs/"},a=new v.a(n,t,c,r),e.next=6,a.fetchData();case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(95),m=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var c,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.eth.accounts.wallet[0].privateKey,h,22,r=new g.j("https://rpc.l14.lukso.network",{deployKey:c,chainId:22}),console.log("\ud83d\ude80 Deploying LSP3UniversalProfile contract..."),e.next=7,r.LSP3UniversalProfile.deploy({controllingAccounts:[n],lsp3Profile:{name:"My Universal Profile",description:"My Cool Universal Profile",backgroundImage:[],tags:["Public Profile"],links:[{title:"My Website",url:"http://my-website.com"}]}});case 7:return a=e.sent,console.log("\u2705 Deployment and configuration successful"),e.abrupt("return",a.LSP3Account.address);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c){var r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.eth.accounts.wallet[0].privateKey,h,22,a=new g.j("https://rpc.l14.lukso.network",{deployKey:r,chainId:22}),console.log("\ud83d\ude80 [reactive] Deploying LSP3UniversalProfile contract..."),a.LSP3UniversalProfile.deployReactive({controllingAccounts:[n],lsp3Profile:{name:"My Universal Profile",description:"My Cool Universal Profile",backgroundImage:[],tags:["Public Profile"],links:[{title:"My Website",url:"http://my-website.com"}]}}).subscribe({next:function(e){console.log(e);var t="";if(t=e.type===g.c.TRANSACTION?"".concat(e.contractName,": ").concat(e.functionName," ").concat(e.status):"".concat(e.contractName,": ").concat(e.status),e.status===g.b.COMPLETE)o.b.success(t);else o.b.info(t);e.type===g.c.PROXY&&e.status===g.b.PENDING&&"LSP3Account"===e.contractName&&e.receipt&&(s=e.receipt.contractAddress)},complete:function(){o.b.success("Deployment successful"),c(s)}});case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),P=n(19);!function(e){e[e.CREATE_ACCOUNT=0]="CREATE_ACCOUNT",e[e.FUND_ACCOUNT=1]="FUND_ACCOUNT",e[e.DEPLOY_UP=2]="DEPLOY_UP",e[e.FETCH_DATA=3]="FETCH_DATA",e[e.DONE=4]="DONE"}(O||(O={}));var C=function(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(f.a)(a,2),o=s[0],i=s[1],p=Object(c.useState)(0),d=Object(f.a)(p,2),v=d[0],g=d[1],C=Object(c.useState)(""),E=Object(f.a)(C,2),U=E[0],A=E[1],S=Object(c.useState)(!1),D=Object(f.a)(S,2),T=D[0],N=D[1],_=Object(c.useState)({}),L=Object(f.a)(_,2),F=L[0],R=L[1],M=Object(c.useState)(O.CREATE_ACCOUNT),Y=Object(f.a)(M,2),I=Y[0],B=Y[1],G=function(){var e=Object(c.useState)(),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a(h),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){r(e)}))}),[]),n}();return Object(c.useEffect)((function(){n&&G&&x(G,n).then((function(e){g(e),e>0&&B(O.DEPLOY_UP)}))}),[n,G]),Object(c.useEffect)((function(){I===O.DONE&&i(!0)}),[I]),Object(c.useEffect)((function(){U&&B(O.FETCH_DATA)}),[U]),G?Object(P.jsxs)("div",{children:[Object(P.jsx)(b.a,{run:o,numberOfPieces:50}),Object(P.jsx)("h1",{children:"\ud83c\udd99 UP Sample React App"}),Object(P.jsxs)("p",{children:["This is a sample repo for the"," ",Object(P.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://docs.lukso.tech/tools/getting-started",children:"Getting Started"})," ","tutorial.",Object(P.jsx)("br",{}),"Let's deploy a Universal Profile, configure it and interact with it.",Object(P.jsx)("br",{}),"It is recommanded to open the developer console to check the logs."]}),Object(P.jsxs)("h2",{children:["1. ",n&&"\u2705"," \ud83d\udd11 Create/Get account"]}),n?Object(P.jsxs)("p",{children:["Account (EOA) loaded:"," ",Object(P.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://blockscout.com/lukso/l14/address/".concat(n),children:n})]}):Object(P.jsx)("p",{children:Object(P.jsx)("button",{onClick:Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(G);case 2:t=e.sent,r(t),B(O.FUND_ACCOUNT);case 5:case"end":return e.stop()}}),e)}))),children:"Get/create account"})}),I>=O.FUND_ACCOUNT&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h2",{children:["2. ",v>0&&"\u2705"," \ud83d\udcb0 Fund account"]}),Object(P.jsxs)("p",{children:["Account balance is: ",Object(P.jsxs)("strong",{children:[v," LYXt"]})," ",Object(P.jsx)("button",{onClick:Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(G,n);case 4:t=e.sent,g(t),t>0&&B(O.DEPLOY_UP);case 7:case"end":return e.stop()}}),e)}))),children:"Refresh balance"}),Object(P.jsx)("br",{}),Object(P.jsx)("a",{href:"http://faucet.l14.lukso.network/",target:"_blank",rel:"noreferrer",children:"Use Faucet to fund account"})]})]}),Object(P.jsx)("br",{}),I>=O.DEPLOY_UP&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h2",{children:["3. ",U&&"\u2705"," \ud83d\ude80 Deploy LSP3 UP Smart contract with lsp-factory.js"]}),Object(P.jsxs)("p",{children:["With"," ",Object(P.jsx)("a",{href:"https://docs.lukso.tech/tools/lsp-factoryjs/getting-started",target:"_blank",rel:"noreferrer",children:"lsp-factory.js"}),", we can simply deploy and configure a Universal Profile smart contract:"]}),Object(P.jsx)("button",{onClick:Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,m(G,n);case 3:t=e.sent,A(t),N(!1);case 6:case"end":return e.stop()}}),e)}))),children:"Deploy LSP3 UP contract"})," ",Object(P.jsx)("button",{onClick:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0),A(""),w(G,n,(function(e){A(e),N(!1)}));case 3:case"end":return e.stop()}}),e)}))),children:"Deploy LSP3 UP contract [reactive mode]"}),T&&Object(P.jsxs)("p",{children:["\ud83d\udd04 Deploying contracts, it can take up to 2 minutes...",Object(P.jsx)("br",{}),"\ud83d\udca1 You can monitor the contracts deployments/setup on"," ",Object(P.jsx)("a",{href:"https://blockscout.com/lukso/l14/address/".concat(n,"/transactions"),target:"_blank",rel:"noreferrer",children:"Blocksout"}),"."]}),U&&Object(P.jsxs)("p",{children:["ERC725ContractAddress deployed:"," ",Object(P.jsx)("a",{href:"https://universalprofile.cloud/".concat(U),target:"_blank",rel:"noreferrer",children:U})," ","[",Object(P.jsx)("a",{href:"https://blockscout.com/lukso/l14/address/".concat(U,"/transactions"),target:"_blank",rel:"noreferrer",children:"blockscout"}),"] [",Object(P.jsx)("a",{href:"https://erc725-inspect.lukso.tech/?address=".concat(U),target:"_blank",rel:"noreferrer",children:"inspect"}),"]"]})]}),I>=O.FETCH_DATA&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h2",{children:["4. ",Object.keys(F).length>0&&"\u2705"," \ud83d\udd04 Fetch contract data with erc725.js"]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/getting-started",target:"_blank",rel:"noreferrer",children:"erc725.js"})," ","makes it easy to fetch and decode an ERC725Y smart contract keys/values."]}),Object(P.jsx)("button",{onClick:Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(U);case 2:t=e.sent,R(t),t!=={}&&B(O.DONE);case 5:case"end":return e.stop()}}),e)}))),children:"Fetch ERC725 keys/values"}),Object.keys(F).length>0&&Object(P.jsx)("pre",{children:JSON.stringify(F,null,2)})]}),I>=O.DONE&&Object(P.jsx)("h2",{children:"Congratulations \ud83c\udf89\ud83e\udd73"})]}):Object(P.jsx)("div",{children:"'Loading web3'"})},E=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(C,{}),Object(P.jsx)(o.a,{pauseOnFocusLoss:!0,newestOnTop:!0,autoClose:1e4})]})};s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(E,{})}),document.getElementById("root"))}},[[862,1,2]]]);
//# sourceMappingURL=main.cfdc45e7.chunk.js.map